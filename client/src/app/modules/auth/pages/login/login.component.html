<mdb-card>
	<mdb-card-body>
		<mdb-card-title class="text-center">
			<h6>
				<mdb-icon class="text-primary" fas icon="lock"></mdb-icon>
				Security Blog
			</h6>
			<h4 class="mt-3">Login</h4>
		</mdb-card-title>

		<app-alert [alertId]="alertId" [fade]="true"></app-alert>

		<form (ngSubmit)="login()" [formGroup]="loginForm">
			<div class="form-group">
				<label for="userIdentityInput">Username or E-Mail</label>
				<input
					class="form-control"
					type="text"
					id="userIdentityInput"
					formControlName="userIdentity"
				/>
				<app-validation-errors
					[control]="userIdentity"
				></app-validation-errors>
			</div>
			<div class="form-group">
				<label for="passwordInput">Password</label>
				<input
					class="form-control"
					type="password"
					id="passwordInput"
					formControlName="password"
				/>
				<app-validation-errors [control]="passwordControl">
				</app-validation-errors>
			</div>

			<div class="d-flex flex-row justify-content-between m-1">
				<button
					mdbBtn
					class="m-0"
					color="primary"
					type="submit"
					[disabled]="!loginForm.valid || loggingIn"
				>
					Login
					<mdb-icon
						*ngIf="loggingIn"
						fas
						class="ml-1"
						icon="spinner"
						classInside="fa-spin"
					></mdb-icon>
				</button>

				<span class="d-flex flex-column justify-conent-center">
					No account?
					<a
						class="text-primary"
						routerLink="/register"
						routerLinkActive="active"
					>
						Register
					</a>
				</span>
			</div>
		</form>
	</mdb-card-body>
</mdb-card>
